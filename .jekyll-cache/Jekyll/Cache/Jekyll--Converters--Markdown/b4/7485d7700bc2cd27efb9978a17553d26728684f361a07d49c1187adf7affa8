I"å<p><span style="color:#444444;font-family:verdana;font-size:16px;"> A nice way of parsing options passed to a bash script without relying on position: </span> </p>
<p> <!-- HTML generated using hilite.me -->
<div style="background:#ffffff;overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
<pre style="margin:0;line-height:125%;"><span style="color:#888888;">#!/bin/bash</span><br /><br /><span style="color:#008800;font-weight:bold;">for </span>i in <span style="background-color:#fff0f0;">"$@"</span><br />  <span style="color:#008800;font-weight:bold;">do</span><br /><span style="color:#008800;font-weight:bold;">    case</span> <span style="color:#996633;">$i</span> in<br /><br />      --node-port<span style="color:#333333;">=</span>*<span style="color:#333333;">)</span><br />      <span style="color:#996633;">NODEPORT</span><span style="color:#333333;">=</span><span style="background-color:#fff0f0;">"${i#*=}"</span><br />      ;;<br /> <br />      --jjp-host<span style="color:#333333;">=</span>*<span style="color:#333333;">)</span><br />      <span style="color:#996633;">JJPHOST</span><span style="color:#333333;">=</span><span style="background-color:#fff0f0;">"${i#*=}"</span><br />      ;;<br /> <br />      --jjp-port<span style="color:#333333;">=</span>*<span style="color:#333333;">)</span><br />      <span style="color:#996633;">JJPPORT</span><span style="color:#333333;">=</span><span style="background-color:#fff0f0;">"${i#*=}"</span><br />      ;;<br /> <br />      --spp-host<span style="color:#333333;">=</span>*<span style="color:#333333;">)</span><br />      <span style="color:#996633;">SPPHOST</span><span style="color:#333333;">=</span><span style="background-color:#fff0f0;">"${i#*=}"</span><br />      ;;<br /> <br />      --spp-port<span style="color:#333333;">=</span>*<span style="color:#333333;">)</span><br />      <span style="color:#996633;">SPPPORT</span><span style="color:#333333;">=</span><span style="background-color:#fff0f0;">"${i#*=}"</span><br />      ;;<br /><br />      --help<span style="color:#333333;">)</span><br />      <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">""</span><br />      <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Usage example: start_app --spp-host=jupiter --spp-port=2000  --node-port=3000 --jjp-host=neptune --jjp-port=4000"</span><br />      <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">""</span><br />      ;;<br /><br /> <br />      *<span style="color:#333333;">)</span><br />      ;;<br />  <br />  <span style="color:#008800;font-weight:bold;">esac</span><br /><span style="color:#008800;font-weight:bold;">done</span><br /> <br /><span style="color:#333333;">[</span> <span style="background-color:#fff0f0;">"${NODEPORT}XXX"</span> <span style="color:#333333;">==</span> <span style="background-color:#fff0f0;">"XXX"</span> <span style="color:#333333;">]</span> <span style="color:#333333;">&amp;&amp;</span> <span style="color:#333333;">{</span> <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Warning: NODEPORT env var not set"</span>; <span style="color:#333333;">}</span><br /><span style="color:#333333;">[</span> <span style="background-color:#fff0f0;">"${JJPHOST}XXX"</span> <span style="color:#333333;">==</span> <span style="background-color:#fff0f0;">"XXX"</span> <span style="color:#333333;">]</span> <span style="color:#333333;">&amp;&amp;</span> <span style="color:#333333;">{</span> <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Warning: JJPHOST env var not set"</span>; <span style="color:#333333;">}</span><br /><span style="color:#333333;">[</span> <span style="background-color:#fff0f0;">"${JJPPORT}XXX"</span> <span style="color:#333333;">==</span> <span style="background-color:#fff0f0;">"XXX"</span> <span style="color:#333333;">]</span> <span style="color:#333333;">&amp;&amp;</span> <span style="color:#333333;">{</span> <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Warning: JJPPORT env var not set"</span>; <span style="color:#333333;">}</span><br /><span style="color:#333333;">[</span> <span style="background-color:#fff0f0;">"${SPPHOST}XXX"</span> <span style="color:#333333;">==</span> <span style="background-color:#fff0f0;">"XXX"</span> <span style="color:#333333;">]</span> <span style="color:#333333;">&amp;&amp;</span> <span style="color:#333333;">{</span> <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Warning: SPPHOST env var not set"</span>; <span style="color:#333333;">}</span><br /><span style="color:#333333;">[</span> <span style="background-color:#fff0f0;">"${SPPPORT}XXX"</span> <span style="color:#333333;">==</span> <span style="background-color:#fff0f0;">"XXX"</span> <span style="color:#333333;">]</span> <span style="color:#333333;">&amp;&amp;</span> <span style="color:#333333;">{</span> <span style="color:#007020;">echo</span> <span style="background-color:#fff0f0;">"Warning: SPPPORT env var not set"</span>; <span style="color:#333333;">}</span><br /> <br /><span style="color:#007020;">export </span>NODEPORT<br /><span style="color:#007020;">export </span>JJPHOST<br /><span style="color:#007020;">export </span>JJPPORT<br /><span style="color:#007020;">export </span>SPPHOST<br /><span style="color:#007020;">export </span>SPPPORT<br /> <br /><span style="color:#007020;">cd</span> /applications/my_app<br />nohup npm run start &amp;<br /></pre>
</div>
<p></p>
</p>
:ET