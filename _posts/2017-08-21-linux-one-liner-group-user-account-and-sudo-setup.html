---
layout: post
title: 'Linux: one-liner group, user account and sudo setup'
date: 2017-08-21 19:20:00.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories: []
tags:
- useradd
meta:
  _publicize_pending: '1'
  restapi_import_id: 5b6f197fa2b75
author:
  login: bobmclarke915800472
  email: bob.mclarke@gmail.com
  display_name: Bob Clarke
  first_name: ''
  last_name: ''
permalink: "/2017/08/21/linux-one-liner-group-user-account-and-sudo-setup/"
---
<p><span><br /></span><span>Running the following as root will:</span>
<ul>
<li><span>create a group called ansible with an id of 30000</span></li>
<li><span>create a group called devops with an id of 30001</span></li>
<li><span>create a user called ansible with a password of mypass123 with a primary group of ansible and a secondary group of devops</span></li>
<li><span>setup passwordless root access via sudo for the ansible accountÂ </span></li>
</ul>
<p>
<div style="background:#f8f8f8;border-width:.1em .1em .1em .8em;border:solid gray;overflow:auto;padding:.2em .6em;width:auto;">
<pre style="line-height:125%;margin:0;"><span style="font-size:large;">groupadd --gid 30000 ansible <span style="color:#666666;">&amp;&amp;</span> <span style="color:#bb6622;font-weight:bold;">\</span><br />groupadd --gid 30001 devops <span style="color:#666666;">&amp;&amp;</span> <span style="color:#bb6622;font-weight:bold;">\</span><br />useradd --uid 30000 ansible -m -g ansible --groups devops <span style="color:#666666;">&amp;&amp;</span> <span style="color:#bb6622;font-weight:bold;">\</span><br /><span style="color:green;">echo</span> -e <span style="color:#ba2121;">"mypass123\nmypass123"</span> | passwd ansible <span style="color:#666666;">&amp;&amp;</span> <span style="color:#bb6622;font-weight:bold;">\</span><br /><span style="color:green;">echo</span> <span style="color:#ba2121;">"%devops  ALL=(ALL)  NOPASSWD: ALL"</span> &gt; /etc/sudoers.d/10_devops</span><br /></pre>
</div>
<p></p>
